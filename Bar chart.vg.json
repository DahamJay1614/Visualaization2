{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Bar Chart of Different Types of Terrorist Attacks in Selected Countries",
  "title": "Types of attacks for given country",
  "data": {
    "url": "https://raw.githubusercontent.com/DahamJay1614/Visualaization2/refs/heads/main/Visualization%202%20Terrorist%20Data%20set.csv",
    "format": {"type": "csv"}
  },
  "params": [
    {
      "name": "selectedYear",
      "value": 2021,
      "bind": {
        "input": "select",
        "options": [2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
        "labels": ["2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021"],
        "name": "Select Year: "
      }
    },
    {
      "name": "selectedCountry",
      "value": "India",
      "bind": {
        "input": "select",
        "options": ["Malaysia", "Afghanistan", "India", "Iraq", "Nigeria", "Pakistan", "United States"],
        "name": "Select Country: "
      }
    }
  ],
  "transform": [
    {"filter": "datum.Year == selectedYear"},
    {"filter": "datum.Entity == selectedCountry"},
    {
      "fold": [
        "Terrorist attacks Hijacking",
        "Terrorist attacks Hostage Taking (Barricade Incident)",
        "Terrorist attacks Unarmed Assault",
        "Terrorist attacks Facility/Infrastructure Attack",
        "Terrorist attacks Hostage Taking (Kidnapping)",
        "Terrorist attacks Assassination",
        "Terrorist attacks Armed Assault",
        "Terrorist attacks Bombing/Explosion"
      ],
      "as": ["Attack Type", "Number of Attacks"]
    }
  ],
  "mark": "bar",
  "encoding": {
    "x": {
      "field": "Attack Type",
      "type": "nominal",
      "title": "Type of Terrorist Attack",
      "axis": {"labelAngle": -45}
    },
    "y": {
      "field": "Number of Attacks",
      "type": "quantitative",
      "title": "Number of Attacks"
    },
    "color": {
      "field": "Attack Type",
      "type": "nominal",
      "scale": {
        "scheme": "tableau10" 
      },
      "legend": null
    },
    "tooltip": [
      {"field": "Attack Type", "type": "nominal", "title": "Type of Attack"},
      {"field": "Number of Attacks", "type": "quantitative", "title": "Number of Attacks"}
    ]
  },
  "width": 800,
  "height": 400
}
